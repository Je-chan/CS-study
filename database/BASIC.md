# 1. 데이터베이스의 정의
## 1-1) 데이터베이스란?
- 1963년에 먼저 용어를 사용
- 특정 조직에 여러 사용자가 공유하여 사용할 수 있도록 통합해서 저장하는 데이터의 집합
- 저장되는 데이터는 조직의 주요 기능을 수행하기 위한 운영 데이터
    

## 1-2) 데이터베이스의 특징
### 1. 실시간으로 접근이 가능하다
- 실시간으로 데이터를 저장하고, 사용할 수 있어야 한다

### 2. 지속적으로 업데이트될 수 있다 
- 운영자에 의해서 CRUD가 가능해야 한다

### 3. 동시 공유가 가능하다
- 주요한 특징
- 이와 관련된 많은 기술들이 내장돼 있다

### 4. 데이터를 조회할 때 의미있는 내용으로 조회할 수 있다
- 데이터가 위치한 파일 위치 등의 물리적 위치가 아니라 의미있는 내용으로 저장이 가능하다는 것
    
    
## 1-3) 데이터의 유형
### 1. 정형 데이터
- 데이터가 어떻게 저장됐는지에 대한 정형화된 구조를 가지고 있고 그에 맞는 데이터가 저장되는 형태 
  - eg) 엑셀 스프레드 시트, 관계 데이터베이스의 테이블
    
### 2. 반정형 데이터
- 어떤 데이터가 어떻게 저장됐는지에 대한 메타 데이터 정보도 담고 있다.
- 이를 self-dscribing data 라고 한다
- 마치 JSON 의 Key-value 형태
  - eg) XML, JSON, Mongo DB 등

### 3. 비정형 데이터
- 정해진 구조가 없이 저장되는 데이터
  - text, 이미지 등의 멀티미디어 데이터
    
    

## 1-4) 파일 시스템의 문제점
- 중복된 데이터가 저장될 수 있다.
- 업데이트 및 데이터의 일관성을 유지하기 어렵다
  - 고객 주소가 바뀔 때 그와 관련된 파일 내용을 모두 고쳐야 한다는 등
  - 여기 저기 찾아다녀야 한다
- 데이터 무결성을 유지하기 어렵다
- 응용 프로그램이 데이터 구조에 종속적이다
  - 파일 구조가 바뀔 때매다, 혹은 데이터 포맷이 바뀔 때마다 응용 프로그램이 교체돼야 한다
- **동시성, 원자성 제공이 어렵다**
  - 여러 사용자가 동시에 접근하는 문제 해결에 어려움이 있다 (동시성 문제)
  - 파일 변경 중에 시스템 장애가 발생했을 때 이를 처리하기가 어렵다 (원자성 문제)
- 보안 문제
  - 어플리케이션은 사용자 권한에 따라 접근 데이터를 구별하고 싶을 때, 일부분에 대한 권한 제어가 어렵다
    
    
## 1-5) DBMS 의 등장
- 데이터베이스 관리 시스템
- 응용 프로그램과 데이터를 분리시키고 그 사이에 끼어드는 소프트웨어
- 응용 프로그램과 데이터 연결을 도와주어 데이터 관리와 데이터에 대한 기본 처리를 담당하는 소프트웨어
- 파일 시스템을 직접 사용하면서 발생하는 문제들을 DBMS 가 해결을 한다. 
        
        
        
        
# 2. 데이터베이스 관리 시스템
- 파일 시스템의 데이터 중복과 데이터 종속 문제를 해결하기 위한 소프트웨어
- 데이터 베이스 생성과 관리를 담당
- 모든 응용 프로그램은 DB 공유가 가능
- DBMS 를 통해 데이터 삽입, 수정, 검색이 가능
- Eg) Oracle, MySQL, MS SQL Server, Postgre SQL

## 2-1) DBMS 의 주요 기능
- 정의 기능
  - 데이터 베이스 구조를 정의하거나 수행
- 조작 기능
  - 데이터 삽입, 삭제, 수정, 검색하는 연산 수행
- 제어 기능
  - 데이터를 항상 정확하고 안전하게 유지하는 기능을 수행
  - 접근 권한 제어 등의 기능도 수행
        
        
## 2-2) DBMS 장점
- 파일 시스템의 데이터 중복 문제를 해결
- 데이터 독립성 확보
  - 응용프로그램이 DBMS로 접근하기에 실질적으로 저장되는 데이터 구조로부터 독립적이다
  - 즉, 데이터 구조가 바뀌어도 응용 프로그램을 바꿀 필요가 없다
- 데이터 동시 공유
- 데이터 보안이 향상 된다
  - 사용자 별로 접근 가능한 데이터베이스 영역을 제한할 수 있기 때문
- 데이터 무결성을 유지한다
- 표준화된 방식(SQL 등)으로 데이터에 접근할 수 있다
- 장애가 발생했을 때에도 회복기능을 제공해서 데이터 소실을 방지할 수 있다
- 대부분의 기능을 DBMS 로 만들어주기에 응용프로그램의 개발 비용이 줄어든다
        

## 2-3) DBMS 단점
- 복잡한 소프트웨어 구조이기에 많은 라이센스 비용을 내야 한다
- 성능 측면에서 빠르다 해도 추가적인 오버헤드가 발생할 수 있다
- 응용 프로그램 개발자가 DBMS 에 대한 지식이 있어야 한다
- DBMS 장애가 발생할 때 모든 응용 프로그램에 장애가 발생한다
  - 그렇기에 안정성이 가장 중요한 이슈가 된다
        

## 2-4) DBMS 의 주요 개념
- DBMS 는 실제 데이터와 함께 meta data 를 저장한다

- Meta 데이터란?
  - 각 데이터에 접근할 수 있는 데이터의 이름(테이블, 컬럼 이름)
  - 스토리지에 데이터가 저장된 위치
  - 보안 제약 (security constraint) : 누가 접근 가능한가
  - 무결성 제약 (integrity constraint) : 어떤 값이 데이터에 유효한가
    
    
     

# 3. 데이터 베이스 시스템
## 3-1) 데이터 베이스의 중요 개념
- 스키마 : 데이터베이스에 저장되는 데이터의 논리적 구조와 제약 조건을 정의한 것
- 인스턴스 : 정의된 스키마에 따라 데이터베이스에 실제로 저장된 값

## 3-2) 3단계 데이터 베이스 구조
- ANSI/SPARC 에서 데이터베이스 내부 구조를 감추고 일반 사용자가 데이터베이스를 쉽게 사용할 수 있도록 제안한 구조

### Physical Level (내부 스키마)
- DB 와 가장 밀접한 레벨 
- 물리적인 저장 장치의 관점.디스크나 테이프 같은 저장 장치의 관점에서 데이터베이스를 이해하는 것
- 실제 데이터가 데이터베이스에 어떻게 저장되는지를 기술
- 파일에 저장되는 레코드의 구조(사이즈), 압축 방법, 암호화 방법 등 
- 실질적으로 데이터를 저장할 때 필요한 정보들을 포함한 기술
### Conceptual Level (개념 스키마)
- 일반적으로 우리가 아는 스키마
- 조직 전체에서 바라보는 시점. 전체 데이터베이스에 관심을 두어야 한다는모든 사용자에게 필요한 데이터를 통합해 전체 데이터베이스의 논리적 구조를 정의(개념 스키마)
- 모델링을 해서 데이터를 저장하고 테이블의 관계를 기술
- 데이터베이스를 개념적으로 표현
- Physical Level 의 내용과 독립되어 데이터 베이스간의 관계, 객체가 무엇인지에 대해서만 알려주고 설계하는 단계
- 흔하게 우리가 만드는 데이터 포맷
### External Level (외부 스키마)
- User 와 가장 가까이 있는 구조. 사용자가 보는 Level
- 개별 사용자 관점에서 데이터베이스를 이해하고 표현
- 사용자에게 필요한 정보만을 보여주는 단계 
  - 그렇다보니 사용자마다 업무 내용과 사용 목적이 달라 필요한 데이터 내용이 다를 수 있다면
  - 이는 곧 사용자마다 생각하는 데이터베이스의 구조가 다르다는 것이고, 사용자에게 필요한 데이터 베이스를 정의한 것을 외부 스키마라 한다
- 데이터들을 계산해서 View를 통해 보여주거나, 데이터의 Secure 를 지정하는 것
- 각 사용자들이 개별 요구 사항에 따라 다른 View 를 정의해서 데이터를 볼 수 있다
- 데이터베이스 하나에 여러 외부 스키마가 가능하다
        
## 3-3) 데이터 독립성
- 하나의 데이터베이스에 세 유형의 스키마가 존재하지만 각 스키마는 데이터베이스를 바라보는 관점이 다를 뿐 모두 같은 데이터베이스를 표현한 것
- 그러므로 세 스키마 사이에 대응 관계가 성립해야 하며 이런 대응을 "Mapping(매핑)" 혹은 "사상" 이라고 한다
- 이렇게 단계별로 스키마를 유지하고 스키마 사이의 대응관계를 정의하는 궁극적 목적은 데이터 독립성 실현을 위함

### 데이터 독립성이란?
- 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성

### 논리적 데이터 독립성
- 개념 스키마가 변경되더라도 외부 스키마가 영향을 받지 않는 것
- 전체 데이터베이스의 논리적 구조가 변경돼도 관련된 외부, 개념 매핑 정보만 적절히 수정해주면 끝 (직접적인 관련 없는 사용자를 위한 외부 스키마 변경 불필요)
- 외부, 개념 매핑은 외부 스키마와 개념 스키마의 대응 관계를 정의한 것으로, "응용 인터페이스" 라고 한다

### 물리적 데이터 독립성
- 내부 스키마가 변경되더라도 개녀 ㅁ스키마가 영향을 받지 않는 것
- 물리적 데이터 독립성이 실현되면 데이터베이스의 저장 구조도가 변경되어도 관련된 개념, 내부 매핑 정보만 적절히 수정해주면 끝
- 개념, 내부 매핑은 개념 스키마와 내부 스키마의 대응 관계를 정의한 것으로, "저장 인터페이스" 라고 한다는

# 4. 데이터베이스 시스템 언어
## 4-1) 데이터베이스 사용자
### 데이터베이스 관리자 (DBA)
- 데이터베이스 시스템을 운영하고 관리하는 사람
- 데이터베이스를 설계, 구축 제어하는 사람
- DBMS 관리 툴을 사용
        
### 응용 프로그래머
- 데이터베이스 언어를 이용해서 응용프로그램을 작성하는 사람
- 흔히 말하는 프로그래머 
- C, Java 등의 언어를 활용
        
### 최종 사용자 (End user)
- 데이터베이스에 접근하여 데이터를 조작하는 사람
- Casual End User : 데이터베이스 언어를 이용해 데이터베이스 접근 및 조작
  - 데이터 분석자 (Query Tool 등을 사용)
- Native End User : 데이터베이스 언으를 쓰지 않고 응용프로그램을 통해 데이터베이스 접근
  - 쇼핑몰의 고객 등 (응용 프로그램 인터페이스 사용)
        
        
        
## 4-2) 데이터 언어
- 사용자가 데이터베이스를 구축하고 이에 접근하기 위해 데이터베이스 관리 시스템과 통신하는 수단

### 데이터 정의어 (DDL)
- 스키마 구조와 제약조건 등을 정의, 삭제, 수정한다
- create table, alter table 등Í
        
### 데이터 조작어 (DML)
- 데이터를 삽입, 삭제, 수정
- Insert, Delete, Update 등
- 데이터를 검색하는 데이터 질의어 (Select) 도 큰 범위 안에서 여기에 포함시키기도 한다
        
### 데이터 제어어 (DCL)
- 내부적으로 필요한 규칙(보안, 무결성 체크) 등을 정의하는 데이터 언어
- 백업, 백업 이미지로 회복하는 명령어 등

### DDL Interceptor
- DDL 로 작성된 스키마의 정의를 해석. 
- 데이터 딕셔너리인 Catalog 에 저장

### DML Compiler
- DML 로 작성된 데이터 처리 요구를 Processing Engine 이 이해할 수 있는 코드로 해석해서 plan을 작성

### DML (Query) Processing Engine
- 컴파일된 plan 을 데이터베이스에 실제로 실행


